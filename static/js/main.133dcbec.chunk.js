(this["webpackJsonpreact-temp"]=this["webpackJsonpreact-temp"]||[]).push([[0],{1135:function(e,t,a){"use strict";a.r(t);var n=a(104),r=a(684),c=a(0),o=a.n(c),s=a(29),i=a.n(s),u=a(61),l=a.n(u),p=a(110),f=a(679),d=a(680),j=a(686),m=a(685),b=a(111),w=a(114),h=a(183),O=a(10),x=a(71),y=a(64),g=function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://95gc0kospc.execute-api.ca-central-1.amazonaws.com/prod/alerts?radius=450000000&lat=43.7425651&long=-79.2148452&time=1&writeLocation=false",e.next=3,fetch("https://95gc0kospc.execute-api.ca-central-1.amazonaws.com/prod/alerts?radius=450000000&lat=43.7425651&long=-79.2148452&time=1&writeLocation=false").then((function(e){return e.json()}));case 3:a=e.sent,n=a.map((function(e){return new x.default(Object(h.a)(Object(h.a)({name:"".concat(e.provider.toUpperCase()," ").concat(new Date(e.timestamp))},Object(h.a)(Object(h.a)({},e),e.data)),{},{timestamp:new Date(e.timestamp),geometry:new y.default(Object(O.fromLonLat)([e.long,e.lat]))}))})),t.getSource().clear(),t.getSource().addFeatures(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=a(68),L=a(84),k=a(194),C=function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://95gc0kospc.execute-api.ca-central-1.amazonaws.com/prod/locations",e.next=3,fetch("https://95gc0kospc.execute-api.ca-central-1.amazonaws.com/prod/locations").then((function(e){return e.json()}));case 3:a=e.sent,t.getSource().clear(),n=a.map((function(e){var t=new x.default(Object(h.a)(Object(h.a)({name:e.userid},e),{},{timestamp:new Date(e.timestamp),geometry:new y.default(Object(O.fromLonLat)([e.long,e.lat]))})),a=new v.default({stroke:new L.default,image:new k.default({opacity:1,src:"https://image.flaticon.com/icons/png/512/89/89132.png",scale:.05})});return t.setStyle(a),t})),t.getSource().addFeatures(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(f.a)(this,a),(e=t.call(this)).onMapInit=function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new b.VectorLayer({title:"Alerts",source:new w.default({})}),n=new b.VectorLayer({title:"Driver",source:new w.default({})}),t.addLayer(n),t.addLayer(a),e.next=6,C(n);case 6:return e.next=8,g(a);case 8:setInterval((function(){return C(n)}),3e4),setInterval((function(){return g(a)}),3e4),window.map=t;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.state={wipeOnRefresh:!0},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(b.Map,{onMapInit:this.onMapInit,fullScreen:!0,children:[Object(n.jsx)(b.Popup,{}),Object(n.jsxs)(b.LayerPanel,{children:[Object(n.jsx)(b.LayerPanelPage,{tabIcon:"Layer Styler",children:Object(n.jsx)(b.LayerPanelContent,{style:{padding:"0px",fontFamily:"Roboto, Arial, sans-serif"},children:Object(n.jsx)(b.LayerStyler,{})})}),Object(n.jsx)(b.LayerPanelPage,{label:"Draw",children:Object(n.jsx)(b.LayerPanelContent,{style:{padding:"0px",fontFamily:"Roboto, Arial, sans-serif"},children:Object(n.jsx)(b.DrawContainer,{style:{position:"relative",width:"auto"}})})})]}),Object(n.jsx)(b.ContextMenu,{}),Object(n.jsx)(b.Controls,{}),Object(n.jsx)(b.BasemapContainer,{})]})}}]),a}(o.a.Component),S=Object(r.hot)(P);i.a.render(Object(n.jsx)(S,{}),document.getElementById("root"))},984:function(e,t){}},[[1135,1,2]]]);
//# sourceMappingURL=main.133dcbec.chunk.js.map